<meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Strand AI - Prototype Demo</title>
    <link rel="stylesheet" href="css/styles.css">
    <script src="https://unpkg.com/lucide@latest"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="container">
            <div class="header-content">
                <h1 class="logo">Strand AI</h1>
                <p class="tagline">IP Attribution & Safety Platform</p>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="main-content">
        <div class="container">
            <div class="layout">
                <!-- Sidebar Toggle Button (Mobile) -->
                <button class="sidebar-toggle" id="sidebarToggle" aria-label="Toggle sidebar">
                    <i data-lucide="panel-right"></i>
                </button>

                <!-- Main Panel -->
                <div class="main-panel">
                    <!-- Input Section -->
                    <section class="input-section bento-card">
                        <div class="section-header">
                            <i data-lucide="edit-3"></i>
                            <h2>Prompt Input</h2>
                        </div>
                        <div class="input-group">
                            <label for="promptInput">Enter your creative prompt:</label>
                            <textarea 
                                id="promptInput" 
                                placeholder="Example: Create a film noir scene in which two men fight in a detective's office. One man has a gun."
                                rows="4"
                            ></textarea>
                            <div class="button-group">
                                <button class="btn btn-primary" id="generateBtn">
                                    <i data-lucide="play"></i>
                                    Generate
                                </button>
                                <button class="btn btn-secondary" id="clearBtn">
                                    <i data-lucide="x"></i>
                                    Clear
                                </button>
                            </div>
                        </div>
                    </section>

                    <!-- Output Section -->
                    <section class="output-section bento-card" id="outputSection" style="display: none;">
                        <div class="section-header">
                            <i data-lucide="video"></i>
                            <h2>Generated Output</h2>
                        </div>
                        <div class="video-placeholder">
                            <i data-lucide="film"></i>
                            <p>Video output will appear here</p>
                        </div>
                        <div class="output-status" id="outputStatus"></div>
                    </section>

                    <!-- Status Cards Grid -->
                    <div class="status-grid" id="statusGrid" style="display: none;">
                        <!-- Attribution Card -->
                        <div class="bento-card status-card">
                            <div class="card-icon">
                                <i data-lucide="pie-chart"></i>
                            </div>
                            <h3>Attribution</h3>
                            <div class="status-value" id="attributionStatus">
                                <span class="status-badge status-success">Complete</span>
                            </div>
                            <p class="status-detail">IP sources tracked</p>
                        </div>

                        <!-- Safety Check Card -->
                        <div class="bento-card status-card">
                            <div class="card-icon">
                                <i data-lucide="shield-check"></i>
                            </div>
                            <h3>Safety Check</h3>
                            <div class="status-value" id="safetyStatus">
                                <span class="status-badge status-success">Passed</span>
                            </div>
                            <p class="status-detail">No violations detected</p>
                        </div>

                        <!-- Contamination Card -->
                        <div class="bento-card status-card">
                            <div class="card-icon">
                                <i data-lucide="alert-triangle"></i>
                            </div>
                            <h3>Contamination</h3>
                            <div class="status-value" id="contaminationStatus">
                                <span class="status-badge status-info">0.5%</span>
                            </div>
                            <p class="status-detail">Model influence detected</p>
                        </div>

                        <!-- Monetization Card -->
                        <div class="bento-card status-card">
                            <div class="card-icon">
                                <i data-lucide="dollar-sign"></i>
                            </div>
                            <h3>Monetization</h3>
                            <div class="status-value" id="monetizationStatus">
                                <span class="status-badge status-success">Approved</span>
                            </div>
                            <p class="status-detail">Ready for release</p>
                        </div>
                    </div>

                    <!-- Detailed Reports Section -->
                    <div class="reports-section" id="reportsSection" style="display: none;">
                        <!-- Attribution Reports -->
                        <div class="reports-grid">
                            <!-- Initial Attribution Report -->
                            <div class="bento-card report-card">
                                <div class="section-header">
                                    <i data-lucide="bar-chart-3"></i>
                                    <h2>Initial Attribution (Pre-Generation)</h2>
                                </div>
                                <div class="chart-container">
                                    <canvas id="relevanceChart"></canvas>
                                </div>
                                <div class="report-summary">
                                    <div class="summary-item">
                                        <span class="summary-label">Total Sources:</span>
                                        <span class="summary-value">3</span>
                                    </div>
                                    <div class="summary-item">
                                        <span class="summary-label">Calculation Method:</span>
                                        <span class="summary-value">Relevance Score Based</span>
                                    </div>
                                </div>
                            </div>

                            <!-- Final Attribution Report -->
                            <div class="bento-card report-card">
                                <div class="section-header">
                                    <i data-lucide="pie-chart"></i>
                                    <h2>Final Attribution (Post-Generation)</h2>
                                </div>
                                <div class="chart-container">
                                    <canvas id="attributionChart"></canvas>
                                </div>
                                <div class="report-summary">
                                    <div class="summary-item">
                                        <span class="summary-label">Frames Analyzed:</span>
                                        <span class="summary-value">240</span>
                                    </div>
                                    <div class="summary-item">
                                        <span class="summary-label">Embedding Matches:</span>
                                        <span class="summary-value">238</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Contamination Report -->
                        <div class="bento-card report-card full-width">
                            <div class="section-header">
                                <i data-lucide="alert-circle"></i>
                                <h2>Contamination Analysis Report</h2>
                            </div>
                            <div class="report-content">
                                <div class="contamination-overview">
                                    <div class="contamination-metric">
                                        <div class="metric-icon">
                                            <i data-lucide="percent"></i>
                                        </div>
                                        <div class="metric-content">
                                            <div class="metric-value">0.5%</div>
                                            <div class="metric-label">Model Contamination</div>
                                        </div>
                                    </div>
                                    <div class="contamination-metric">
                                        <div class="metric-icon">
                                            <i data-lucide="check-circle"></i>
                                        </div>
                                        <div class="metric-content">
                                            <div class="metric-value">99.5%</div>
                                            <div class="metric-label">Licensed Content</div>
                                        </div>
                                    </div>
                                    <div class="contamination-metric">
                                        <div class="metric-icon">
                                            <i data-lucide="shield"></i>
                                        </div>
                                        <div class="metric-content">
                                            <div class="metric-value">Passed</div>
                                            <div class="metric-label">Threshold Check</div>
                                        </div>
                                    </div>
                                </div>
                                <div class="contamination-details">
                                    <h4>Detection Summary</h4>
                                    <ul class="detail-list">
                                        <li>
                                            <i data-lucide="check"></i>
                                            <span>Contamination level within acceptable threshold (< 2%)</span>
                                        </li>
                                        <li>
                                            <i data-lucide="check"></i>
                                            <span>No unlicensed IP detected in output</span>
                                        </li>
                                        <li>
                                            <i data-lucide="check"></i>
                                            <span>Model influence properly tracked and documented</span>
                                        </li>
                                        <li>
                                            <i data-lucide="info"></i>
                                            <span>Minimal training data influence from base model</span>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>

                        <!-- Safety Compliance Report -->
                        <div class="bento-card report-card full-width">
                            <div class="section-header">
                                <i data-lucide="shield-check"></i>
                                <h2>IP Safety & Compliance Report</h2>
                            </div>
                            <div class="report-content">
                                <div class="compliance-grid">
                                    <div class="compliance-section">
                                        <h4>
                                            <i data-lucide="file-check"></i>
                                            Pre-Generation Checks
                                        </h4>
                                        <div class="check-item passed">
                                            <i data-lucide="check-circle"></i>
                                            <div class="check-content">
                                                <div class="check-title">Prompt Safety Validation</div>
                                                <div class="check-detail">No IP safety rule violations detected</div>
                                            </div>
                                        </div>
                                        <div class="check-item passed">
                                            <i data-lucide="check-circle"></i>
                                            <div class="check-content">
                                                <div class="check-title">Usage Rights Verification</div>
                                                <div class="check-detail">All retrieved content properly licensed</div>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="compliance-section">
                                        <h4>
                                            <i data-lucide="video"></i>
                                            Post-Generation Checks
                                        </h4>
                                        <div class="check-item passed">
                                            <i data-lucide="check-circle"></i>
                                            <div class="check-content">
                                                <div class="check-title">Visual Content Analysis</div>
                                                <div class="check-detail">Output complies with IP mythology rules</div>
                                            </div>
                                        </div>
                                        <div class="check-item passed">
                                            <i data-lucide="check-circle"></i>
                                            <div class="check-content">
                                                <div class="check-title">Character Behavior Validation</div>
                                                <div class="check-detail">No prohibited actions detected</div>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="compliance-section">
                                        <h4>
                                            <i data-lucide="dollar-sign"></i>
                                            Monetization Status
                                        </h4>
                                        <div class="check-item passed">
                                            <i data-lucide="check-circle"></i>
                                            <div class="check-content">
                                                <div class="check-title">Attribution Complete</div>
                                                <div class="check-detail">All IP sources properly attributed</div>
                                            </div>
                                        </div>
                                        <div class="check-item passed">
                                            <i data-lucide="check-circle"></i>
                                            <div class="check-content">
                                                <div class="check-title">Release Approved</div>
                                                <div class="check-detail">Content cleared for monetization</div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="compliance-summary">
                                    <div class="summary-badge success">
                                        <i data-lucide="shield-check"></i>
                                        <span>All Compliance Checks Passed</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Process Tracing Sidebar -->
                <aside class="sidebar" id="sidebar">
                    <div class="sidebar-header">
                        <h2>
                            <i data-lucide="activity"></i>
                            Process Trace
                        </h2>
                        <button class="sidebar-close" id="sidebarClose" aria-label="Close sidebar">
                            <i data-lucide="x"></i>
                        </button>
                    </div>

                    <div class="sidebar-content" id="sidebarContent">
                        <div class="empty-state">
                            <i data-lucide="info"></i>
                            <p>Generate content to view process trace</p>
                        </div>
                    </div>
                </aside>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <p>&copy; 2025 Strand AI. All rights reserved.</p>
        </div>
    </footer>

    <script src="js/app.js"></script>
    <script>
        lucide.createIcons();